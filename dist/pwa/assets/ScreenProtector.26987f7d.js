import{Q as i,a as b,_ as z,b as S,c as w,d as h,e as k,f as V,g as T,h as F,i as N,j as A,k as j,u as D,A as E}from"./api.7be41ba5.js";import{Q as H,a as L}from"./QBtn.8f9c0264.js";import{r as p,c as I,s as l,t as f,u as t,v as e,B as a,C as u,D as d,F as $,E as P,A as C,G as x,H as v,_ as G,a1 as J,k as O,I as U,J as K}from"./index.0ffe1a40.js";import"./dom.9224d213.js";import"./axios.231ce3a4.js";const M={class:"text-h4 font-md"},R={class:"text-subtitle text-grey-8 font-lg"},W={class:"text-subtitle"},X={key:0,class:"q-pt-lg q-pr-md text-right text-h6 text-grey-8"},Y=a("small",null,"PxC:",-1),Z={class:"text-bold text-green"},ee={key:1,class:"fullscreen-container"},te=["src"],se={class:"text-h4 font-md"},ae={class:"text-subtitle text-grey-4 font-lg"},le={class:"text-subtitle"},oe={key:0,class:"q-pt-lg q-pr-md text-right text-h6"},re=a("small",null,"PxC:",-1),ue={class:"text-bold"},ne={__name:"ProductProtect",props:{data:{type:Object,default:{}}},setup(m){const s=p(m.data),_=I(()=>s.value?s.value.prices.length?s.value.prices.filter(c=>c._type<=2||c._type==4).sort((c,g)=>c._type-g._type):[]:[]);return I(()=>!!s.value.imgcover),(c,g)=>s.value.imgcover==null?(l(),f(k,{key:0,flat:"",class:"bg-grey-1 q-pa-lg"},{default:t(()=>[e(i,{horizontal:""},{default:t(()=>[e(i,{class:"q-pa-none"},{default:t(()=>[e(i,{class:"text-left text-blue-grey-7"},{default:t(()=>[a("div",M,u(s.value.code),1),a("div",R,u(s.value.id),1)]),_:1}),e(i,null,{default:t(()=>[a("div",W,u(s.value.description),1)]),_:1}),e(i,null,{default:t(()=>[e(b,{src:z,"spinner-color":"grey-4","spinner-size":"82px",size:"200px"})]),_:1})]),_:1}),e(i,{style:{width:"300px"}},{default:t(()=>[e(S,{separator:"",style:{"font-size":"2em"}},{default:t(()=>[(l(!0),d($,null,P(C(_),n=>(l(),f(w,{key:n._type},{default:t(()=>[e(h,{class:"text-grey-7"},{default:t(()=>[x(u(n.pricelist.name),1)]),_:2},1024),e(h,{avatar:"",class:"text-blue-grey-14"},{default:t(()=>[x("$"+u(n.price),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s.value.pieces?(l(),d("div",X,[Y,x(),a("span",Z,u(s.value.pieces),1)])):v("",!0)]),_:1})]),_:1})]),_:1})):(l(),d("div",ee,[a("video",{class:"background-video",src:`https://grupovizcarra.net/vmedia/${s.value.imgcover}`,autoplay:"",loop:"",muted:"",playsinline:"",autobuffer:""},null,8,te),e(k,{class:"info-card"},{default:t(()=>[e(i,{class:"text-white"},{default:t(()=>[a("div",se,u(s.value.code),1),a("div",ae,u(s.value.id),1)]),_:1}),e(i,{class:"text-white"},{default:t(()=>[a("div",le,u(s.value.description),1)]),_:1}),e(i,null,{default:t(()=>[e(b,{src:z,"spinner-color":"grey-4","spinner-size":"82px",size:"200px"})]),_:1}),e(i,null,{default:t(()=>[e(S,{separator:"",style:{"font-size":"1.5em"}},{default:t(()=>[(l(!0),d($,null,P(C(_),n=>(l(),f(w,{key:n._type},{default:t(()=>[e(h,{class:"text-grey-3"},{default:t(()=>[x(u(n.pricelist.name),1)]),_:2},1024),e(h,{avatar:"",class:"text-white"},{default:t(()=>[x(" $"+u(n.price),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s.value.pieces?(l(),d("div",oe,[re,a("span",ue,u(s.value.pieces),1)])):v("",!0)]),_:1})]))}};const q=m=>(U("data-v-f285a4b4"),m=m(),K(),m),ie={class:"fullscreen-container"},ce=["src"],de={class:"q-pa-sm fixed-top-left"},_e={key:0},pe={class:"fixed-bottom-left q-pl-sm q-pb-md"},ve=q(()=>a("div",{class:"text-center text-blue-grey-12 font-sbl text-h2"},"Capture c\xF3digo",-1)),fe={class:"text-center text-blue-grey-12 font-sbl text-h2"},me={key:1,class:"text-center"},xe=q(()=>a("div",{class:"text-h4"},"Sin coincidencias",-1)),ge={__name:"ScreenProtector",setup(m){D();const o=p(1),s=p(""),_=p(!1),c=p(null),g=p(null),n=p(null),B=async()=>{n.value&&clearTimeout(n.value),o.value=2;const Q={target:s.value},r=await E.info({params:Q});console.log(r),r.status==200?(g.value=r.data.product,o.value=3,n.value=setTimeout(()=>{o.value=1},15e3)):r.status==404&&(o.value=4,n.value=setTimeout(()=>{o.value=1},7e3)),s.value="",O(()=>{c.value.focus()})};return(Q,r)=>(l(),f(V,{class:"flex flex-center bg-blue-grey-1 font-reg"},{default:t(()=>[a("div",ie,[a("video",{autobuffer:"",src:"https://grupovizcarra.net/vmedia/full_video.mp4",autoplay:"",loop:"",muted:"",style:{width:"100%"},playsinline:"",class:J(["fullscreen-video",{"blur-video":o.value===3||o.value===4}])},null,10,ce)]),a("div",de,[_.value?(l(),d("div",_e,[e(T,{color:"indigo-8",size:"1.2em"})])):!_.value&&o.value!=2?(l(),f(H,{key:1,rounded:"",flat:"",dense:"",icon:"warning",color:"red-5",onClick:r[0]||(r[0]=y=>c.value.focus())})):v("",!0)]),a("div",pe,[e(b,{src:F,"spinner-color":"primary","spinner-size":"82px",width:"150px"})]),a("div",null,[o.value==1?(l(),d($,{key:0},[ve,a("div",fe,u(s.value),1)],64)):v("",!0),x(" Buscando producto !!! "),o.value==2?(l(),d("div",me,[e(N,{color:"indigo-6",size:"8em"})])):v("",!0),o.value==3?(l(),f(ne,{key:2,data:g.value},null,8,["data"])):v("",!0),o.value==4?(l(),f(k,{key:3,flat:"",class:"text-center"},{default:t(()=>[e(i,null,{default:t(()=>[e(L,{color:"grey",size:"8em",name:"far fa-face-grin-beam-sweat"})]),_:1}),e(i,{class:"text-grey"},{default:t(()=>[xe]),_:1})]),_:1})):v("",!0)]),e(j,{onSubmit:B,class:"fixed-bottom hidded"},{default:t(()=>[e(A,{autofocus:"",dense:"",onFocus:r[1]||(r[1]=y=>_.value=!0),onBlur:r[2]||(r[2]=y=>_.value=!1),modelValue:s.value,"onUpdate:modelValue":r[3]||(r[3]=y=>s.value=y),disable:o.value===2,type:"text",ref_key:"ipttarget",ref:c,hidde:""},null,8,["modelValue","disable"])]),_:1})]),_:1}))}};var Qe=G(ge,[["__scopeId","data-v-f285a4b4"]]);export{Qe as default};
